<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
    <title>Main Page</title>
    <link rel="stylesheet" href="src/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"/>
</head>
<body>
<div id="overlay" class="ease"></div>
<nav id="navigation-desktop">
    <div class="content">
        <ul id="bar_list">
            <li><a href="#">Hlavní stránka</a></li>
            <li><a href="index.html#about_ref">O nás</a></li>
            <li><a href="index.html#map_ref">Mapa závad</a></li>
            <li><a href="index.html#stats_ref">Štatistiky</a></li>
            <li><a href="index.html#contact_ref">Kontakty</a></li>
            <button class="hide_btn" id="logout_btn" type="submit" onclick="logout()">Odhlásit se</button>
            <button class="hide_btn" id="profile_btn" type="submit" onclick="location.href='user_profile.html'">Zobrazit
                profil
            </button>
            <button class="hide_btn" id="register_btn" type="submit" data-modal-target="#register_form">Registrovať sa
            </button>
            <button class="hide_btn" id="login_btn" type="submit" data-modal-target="#login_form">Přihlásit se</button>
        </ul>
    </div>
</nav>
<div id="login_id">
    <div class="modal ease" id="login_form">
        <div class="modal-header">
            <div class="title">Prosím prihláste sa</div>
            <button data-close-button class="close-button">&times;</button>
        </div>
        <div class="modal-body">
            <form id="form_login">
                <label for="email">Email</label>
                <input type="email" name="email" id="email" placeholder="Email"><br>
                <label for="password">Heslo</label>
                <input type="password" name="password" id="password" placeholder="Heslo"><br>
                <button type="submit" data-close-button onclick="login()">Přihlásit se</button>
            </form>
        </div>
    </div>
</div>
<div id="register_id">
    <div class="modal ease" id="register_form">
        <div class="modal-header">
            <div class="title">Registrácia</div>
            <button data-close-button class="close-button">&times;</button>
        </div>
        <div class="modal-body">
            <form id="form_register">
                <label id="name_lab" for="name_reg">Meno</label>
                <input type="text" name="name_reg" id="name_reg" placeholder="Meno">
                <label id="surename_lab" for="surname_reg">Priezvisko</label>
                <input type="text" name="surname_reg" id="surname_reg" placeholder="Priezvisko">
                <label id="address_lab" for="address_reg">Addresa</label>
                <input type="text" name="address" id="address_reg" placeholder="Addresa">
                <label id="date_lab" for="date_reg">Dátum narodenia</label>
                <input type="date" name="date_reg" id="date_reg" placeholder="Dátum narodenia">
                <label id="email_lab" for="email_reg">Email</label>
                <input type="email" name="email" id="email_reg" placeholder="Email">
                <label id="pwd_lab" for="password_reg">Heslo</label>
                <input type="password" name="password" id="password_reg" placeholder="********">
                <label id="pwd2_lab" for="password_reg2">Potvrdenie hesla</label>
                <input type="password" name="password" id="password_reg2" placeholder="********">
                <div id="news">
                    <input id="news_reg" type="checkbox">
                    <label id="news_lab" for="news_reg">Chci dostávat novinky o mých nahlášených ticketech.</label>
                </div>
                <button id="reg_btn" data-close-button type="submit">Registrovať sa</button>
            </form>
        </div>
    </div>
</div>
<header>
    <div id="slideshow">
        <div class="content">
            <img class="slide anim_fade" src="src/images/fountain.png">
            <img class="slide anim_fade" src="src/images/garden.png">
            <img class="slide anim_fade" src="src/images/observatory.png">
            <img class="slide anim_fade" src="src/images/park.png">
            <div id="dots">
                <span class="dot" onclick="currentDiv(1)"></span>
                <span class="dot" onclick="currentDiv(2)"></span>
                <span class="dot" onclick="currentDiv(3)"></span>
                <span class="dot" onclick="currentDiv(4)"></span>
            </div>
        </div>
    </div>
    <script>
        let slideIndex = 1;

        //showDivs(slideIndex);

        function currentDiv(n) {
            showDivs(slideIndex = n);
        }

        carousel();

        function carousel() {
            let i;
            let x = document.getElementsByClassName("slide");
            let dots = document.getElementsByClassName("dot");
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > x.length) {
                slideIndex = 1
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" white", "");
            }
            x[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " white";
            setTimeout(carousel, 10000); // Change image every 2 seconds
        }

        function showDivs(n) {
            let i;
            let x = document.getElementsByClassName("slide");
            let dots = document.getElementsByClassName("dot");
            if (n > x.length) {
                slideIndex = 1
            }
            if (n < 1) {
                slideIndex = x.length
            }
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" white", "");
            }
            x[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " white";
        }
    </script>
</header>
<!--div id="btns2">
    <button type="submit">Přihlásit se</button>
    <button type="submit">Registrovať sa</button>
    <button onclick="location.href='user_profile.html'" type="submit">Edit profil</button>
    <button onclick="location.href='interactive_map.html'" type="submit">Nahlasit problem</button>
</div-->
<main>
    <section id="about">
        <a class="anchor" id="about_ref"></a>
        <div class="content">
            <h1>O nás</h1>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquid architecto at dignissimos dolor dolore
                dolorem doloremque doloribus exercitationem inventore laborum magnam molestiae mollitia necessitatibus,
                porro, qui quo rem suscipit voluptas.</p>
        </div>
    </section>
    <section id="map">
        <a class="anchor" id="map_ref"></a>
        <div class="content">
            <h1>Mapa závad</h1>
            <div id="mapid">
                <span id="zoom" onclick="location.href='interactive_map.html'" class="material-symbols-rounded">zoom_out_map</span>
                <div id="map_div">
                    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
                            integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
                    <script src="interactive_map.js"></script>
                </div>
            </div>
            <button id="submit_btn" type="button" data-modal-target="#login_register_form">Nahlásiť problém</button>
            <div id="login_register">
                <div class="modal ease" id="login_register_form">
                    <div class="modal-header">
                        <div class="title">Prosím prihláste sa</div>
                        <button data-close-button class="close-button">&times</button>
                    </div>
                    <div class="modal-body">
                        <form id="form_login_register">
                            <label for="email">Email</label>
                            <input type="email" name="email" id="email_lr" placeholder="Email"><br>
                            <label for="password">Heslo</label>
                            <input type="password" name="password" id="password_lr" placeholder="Heslo"><br>
                            <button type="submit" data-close-button onclick="login()">Přihlásit se</button>
                            <p class="nebo">nebo</p>
                            <button id="or_register" type="button" data-modal-target="#register_form" data-close-button
                                    class="close-button">Registrovat se
                            </button>
                        </form>
                    </div>
                </div>
            </div>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Culpa ducimus libero natus velit. Architecto
                consequatur, cumque delectus dolorem, eveniet id illo iusto modi nisi nobis non reprehenderit sequi
                soluta voluptate?</p>
        </div>
    </section>
    <section id="stats">
        <a class="anchor" id="stats_ref"></a>
        <div class="content">
            <h1>Štatistiky</h1>
            <div id="statid">
                <div class="box_size" data-modal-target="#graph1">
                    <p class="alignleft"><strong>Vyřešených případů do jednoho měsíce:</strong></p>
                    <p class="alignright">80%</p>
                    <div class="bcgr_loading">
                        <div id="line_1"></div>
                    </div>
                </div>
                <div class="box_size" data-modal-target="#graph2">
                    <p class="alignleft"><strong>Uživatelé, kteří nahlašují opakovaně:</strong></p>
                    <p class="alignright">60%</p>
                    <div class="bcgr_loading">
                        <div id="line_2"></div>
                    </div>
                </div>
                <div class="box_size" data-modal-target="#graph3">
                    <p class="alignleft"><strong>:</strong></p>
                    <p class="alignright">40%</p>
                    <div class="bcgr_loading">
                        <div id="line_3"></div>
                    </div>
                </div>
                <div class="box_size" data-modal-target="#graph4">
                    <p class="alignleft"><strong>:</strong></p>
                    <p class="alignright">25%</p>
                    <div class="bcgr_loading">
                        <div id="line_4"></div>
                    </div>
                </div>
            </div>
            <div id="graph1_i">
                <div class="modal ease" id="graph1">
                    <div class="modal-header">
                        <div class="title">Nejaký pekný graf 1</div>
                        <button data-close-button class="close-button">&times;</button>
                    </div>
                    <div class="modal-body">
                        <p>Graf 2</p>
                        <div class="circle"></div>
                    </div>
                </div>
                <div id="graph2_i">
                    <div class="modal ease" id="graph2">
                        <div class="modal-header">
                            <div class="title">Nejaký pekný graf 2</div>
                            <button data-close-button class="close-button">&times;</button>
                        </div>
                        <div class="modal-body">
                            Tuto bude nejaky pekny graf 2 <!--TODO-->
                        </div>
                    </div>
                </div>
                <div id="graph3_i">
                    <div class="modal ease" id="graph3">
                        <div class="modal-header">
                            <div class="title">Nejaký pekný graf 3</div>
                            <button data-close-button class="close-button">&times;</button>
                        </div>
                        <div class="modal-body">
                            Tuto bude nejaky pekny graf 3 <!--TODO-->
                        </div>
                    </div>
                </div>
                <div id="graph4_id">
                    <div class="modal ease" id="graph4">
                        <div class="modal-header">
                            <div class="title">Nejaký pekný graf 4</div>
                            <button data-close-button class="close-button">&times;</button>
                        </div>
                        <div class="modal-body">
                            Tuto bude nejaky pekny graf 4 <!--TODO-->
                        </div>
                    </div>
                </div>

                <script>
                    const openModalButtons = document.querySelectorAll('[data-modal-target]')
                    const closeModalButtons = document.querySelectorAll('[data-close-button]')
                    const overlay = document.getElementById('overlay')

                    openModalButtons.forEach(button => {
                        button.addEventListener('click', () => {
                            const modal = document.querySelector(button.dataset.modalTarget)
                            openModal(modal)
                        })
                    })

                    overlay.addEventListener('click', () => {
                        const modals = document.querySelectorAll('.modal.active')
                        modals.forEach(modal => {
                            closeModal(modal)
                        })
                    })

                    closeModalButtons.forEach(button => {
                        button.addEventListener('click', () => {
                            const modal = button.closest('.modal')
                            closeModal(modal)
                        })
                    })

                    function openModal(modal) {
                        if (modal == null) return
                        modal.classList.add('active')
                        overlay.classList.add('active')
                    }

                    function closeModal(modal) {
                        if (modal == null) return
                        modal.classList.remove('active')
                        overlay.classList.remove('active')
                    }
                </script>
            </div>
        </div>
    </section>
    <section id="contact">
        <a class="anchor" id="contact_ref"></a>
        <div class="content">
            <h1>Kontakt</h1>
            <div id="contact_div">
                <label for="email_"></label>
                <a id="email_" href="mailto:brno-mesto@brno.cz">brno-mesto@brno.cz</a><br>
                <label for="mobile">Milan Hrabovský (xhrabo15)</label>
                <a id="mobile">+420 948 000 000 </a><br>
                <label for="phone">Simona Češková (xcesko00)</label>
                <a id="phone">+033/00 000 000</a><br>
                <label for="address">Jakub Július Šmýkal (xsmyka01)</label>
                <a id="address">Brno 123/4, 612 00, Česká republika</a>
            </div>
        </div>
    </section>
</main>

<!-- ---------------CHATBOT------------------ -->
<div id="chatbot">
    <img type="button" data-modal-target="#chatbot_body" class="chatbot_img" src="src/pictures/user_pic.png"
         alt="chatbot">
</div>

<div class="modal ease" id="chatbot_wrapper">
    <div class="modal-header" id="title_bot">
        <span>Chatbot chytré město</span>
    </div>
    <div id="chatbot_body">
        <div class="modal-body">
            <div class="messages">
                <blockquote>
                    <span>Chcete pomoct? Jsme tu pro Vás!</span>
                </blockquote>
                <figure>
                    <img src="src/pictures/user_pic.png" alt="Radovan">
                </figure>
            </div>
            <div class="messages">
                <blockquote id="user_chat">
                    <span class="chat_user">reeeeee</span>
                </blockquote>
                <figure id="user_chat_pic">
                    <img src="src/pictures/user_pic.png" alt="Radovan">
                </figure>
            </div>
            <div class="messages">
                <blockquote>
                    <span>Omlouváme se, ale chatbot momentálně není dostupný.</span>
                </blockquote>
                <figure>
                    <img src="src/pictures/user_pic.png" alt="Viktor">
                </figure>
            </div>
        </div>
    </div>
    <div id="chat_form">
        <form>
                <textarea id="contact-message" name="message" cols="30" rows="2" placeholder="Message"
                          required></textarea>
            <input onclick="endOfReport()" class="contact-submit" id="contact-submit" type="submit"
                   value="Submit">
        </form>
    </div>
</div>
<!-- ---------------CHATBOT------------------ -->
<div id="up">
    <a href="#"><img class="up" src="src/pictures/up.svg" alt="up button"></a>
</div>
<footer>
    <div id="license">
        <p><b>GoalDiggers</b> | Copyright 2022</p>
    </div>
</footer>
</body>
<script src="login.js"></script>
</html>